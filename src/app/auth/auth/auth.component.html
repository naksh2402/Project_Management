<div class="container">
  <div class="auth-box">
    <h2 class="text-center">{{ isLoginMode ? "Login" : "Signup" }}</h2>

    <!-- Email/Password Form -->
    <form #authForm="ngForm" (ngSubmit)="onSubmit(authForm)">
      <div class="form-group">
        <label for="email">Email:</label>
        <input
          type="email"
          id="email"
          name="email"
          ngModel
          required
          class="form-control"
        />
      </div>
      <div class="form-group">
        <label for="password">Password:</label>
        <input
          type="password"
          id="password"
          name="password"
          ngModel
          required
          class="form-control"
        />
      </div>
      <!-- Role selection shown only in Signup mode -->
      <div class="form-group" *ngIf="!isLoginMode">
        <label for="role">Select Role:</label>
        <select id="role" name="role" ngModel required class="form-control">
          <option value="admin">Admin</option>
          <option value="employee">Employee</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary btn-block">
        {{ isLoginMode ? "Login" : "Signup" }}
      </button>
    </form>

    <hr />

    <!-- OTP Section for Phone Authentication -->
    <h3 class="text-center">OTP Authentication</h3>
    <form #otpForm="ngForm" (ngSubmit)="onSendOtp(otpForm)" *ngIf="!isOtpSent">
      <div class="form-group">
        <label for="phoneNumber">Phone Number:</label>
        <input
          type="text"
          id="phoneNumber"
          name="phoneNumber"
          ngModel
          required
          class="form-control"
        />
      </div>
      <button type="submit" class="btn btn-warning btn-block">Send OTP</button>
    </form>

    <form
      #verifyForm="ngForm"
      (ngSubmit)="onVerifyOtp(verifyForm)"
      *ngIf="isOtpSent"
    >
      <div class="form-group">
        <label for="otp">Enter OTP:</label>
        <input
          type="text"
          id="otp"
          name="otp"
          ngModel
          required
          class="form-control"
        />
      </div>
      <button type="submit" class="btn btn-success btn-block">
        Verify OTP
      </button>
    </form>

    <!-- Toggle between Login and Signup -->
    <p class="text-center toggle-text" (click)="toggleMode()">
      {{ isLoginMode ? "Create an Account" : "Already have an account? Login" }}
    </p>

    <!-- Recaptcha container -->
    <div id="recaptcha-container"></div>
      
  </div>
</div>

<div class="container">
  <h2>My Tasks</h2>
  <ul class="list-group">
    <li *ngFor="let task of tasks" class="list-group-item">
      <strong>{{ task.name }}</strong> - {{ task.status }}
      <button
        class="btn btn-sm btn-info pull-right"
        (click)="setSelectedTask(task)"
      >
        Update
      </button>
    </li>
  </ul>

  <!-- Update Task Section -->
  <div
    *ngIf="selectedTask"
    class="panel panel-default"
    style="margin-top: 20px"
  >
    <div class="panel-heading"><strong>Update Task Status</strong></div>
    <div class="panel-body">
      <form (ngSubmit)="updateTask()" #taskForm="ngForm">
        <div class="form-group">
          <label for="status">Status</label>
          <select
            id="status"
            name="status"
            class="form-control"
            [(ngModel)]="selectedTask.status"
            required
          >
            <option value="pending">Pending</option>
            <option value="inProgress">In Progress</option>
            <option value="completed">Completed</option>
          </select>
        </div>
        <div class="form-group">
          <label for="comments">Comments</label>
          <textarea
            id="comments"
            name="comments"
            class="form-control"
            [(ngModel)]="selectedTask.comments"
            placeholder="Add comments"
          ></textarea>
        </div>
        <button type="submit" class="btn btn-success btn-block">
          Update Task
        </button>
        <button
          type="button"
          class="btn btn-default btn-block"
          (click)="selectedTask = null"
        >
          Cancel
        </button>
      </form>
    </div>
      
  </div>
</div>
